Многоканальный модуль дискретного вывода для Arduino с UART интерфейсом.
Выдает программный ШИМ сигнал на ножки микроконтроллера (см. PWM.dia). Управляется через UART.
Блок безопасности позволяет при потере связи с ведущим устройством подать на выход заранее установленную скважность.
1 Установка
1.1 Требования
;
1.2 Настройки:
Файл aon.ino:
	SERIAL_RATE - скорость последовательного порта,
	SERIAL_CONFIG - настройки последовательного порта для функции Serial.begin(),
	SERIAL_TIMEOUT_MS - время ожидания последовательного порта,
	CHANNEL_COUNT - количество каналов,
	для каждого канала:
	IDх - идентификатор канала,
	PINх - номер ножки на которую будет подаваться ШИМ сигнал канала.
2 Использование
Список поддерживаемых команд находится в файле ./puart_server.ino.
Примеры для канала №1:
пролучить мощность в процентах от максимальной:
select;1;gfts;
получим результат:
1_30.00_1_2225411;
в формате:
номерКанала_темпертура_статус_времяМс;
получить разрешение ШИМ:
select;1;gcpwmr;
получить период ШИМ, мс:
select;1;gcpwmp;
получить минимальную продолжительность высокого уровня, мс:
select;1;gcpwmdcmin;
получить максимальную продолжительность высокого уровня, мс:
select;1;gcpwmdcmax;
получить состояние блока безопасности (активен или нет):
select;1;gcpwmss;
получить время ожидания блока безопасности, мс:
select;1;gcpwmstm;
получить скважности для блока безопасности:
select;1;gcpwmsdc;
	
установить скважность 300 единиц:
select;1;scpwmdc;300;
установить разрешение 1000 единиц:
select;1;scpwmr;1000;
установить период 10000 мс:
select;1;scpwmp;10000;
установить минимальную продолжительность высокого уровня 1000 мс:
select;1;scpwmdcmin;1000;
установить максимальную продолжительность высокого уровня 10000 мс:
select;1;scpwmdcmax;10000;
акитвировать блок безопасности:
select;1;scpwmss;1;
установить время ожидания блока безопасности 3000 мс:
select;1;scpwmstm;3000;
установить скважности для блока безопасности 0 единиц:
select;1;scpwmsdc;0;

Можно выбрать сразу несколько каналов (каналы должны принадлежать одному микроконтроллеру):
select;1;select;2;gfts;
получим результат:
1_30.00_1_2225411;2_31.50_1_2226422;

Чтобы снять выделение канала:
end;





